/* Layout.css - Museum Quality Layout */

/* Root grid: header on top, footer bottom, center row with 3 columns */
.app {
  min-height: 100vh;
  display: grid;
  grid-template-rows: auto 1fr auto; /* header, content, footer */
  grid-template-columns: var(--museo-sidebar-width) 1fr 340px; /* left, main, right */
  grid-template-areas:
    "header header header"
    "sideL  main   sideR"
    "footer footer footer";
  background: linear-gradient(135deg, var(--museo-stone-50) 0%, var(--museo-forest-50) 100%);
  overflow: visible; /* important: do not clip sticky children */
}

/* Sticky header */
.app__header {
  grid-area: header;
  position: sticky;
  top: 0;
  z-index: 50;
  background: white;
  border-bottom: 1px solid var(--museo-stone-200);
  box-shadow: var(--museo-shadow-sm);
}

/* Left sidebar: sticky under header, owns its own scroll */
.app__side-left {
  grid-area: sideL;
  position: sticky;
  top: var(--museo-nav-height);
  height: calc(100vh - var(--museo-nav-height));
  overflow: auto;
  background: var(--museo-bg-secondary) !important;
  border-right: 1px solid var(--museo-border) !important;
  padding: var(--museo-space-6);
  color: var(--museo-text-primary) !important;

  contain: layout paint size;
  overscroll-behavior: contain;
}

/* Right rail: sticky under header, owns its own scroll */
.app__side-right {
  grid-area: sideR;
  position: sticky;
  top: var(--museo-nav-height);
  height: calc(100vh - var(--museo-nav-height));
  overflow: auto;
  background: var(--museo-bg-secondary) !important;
  border-left: 1px solid var(--museo-border) !important;
  padding: var(--museo-space-6);
  color: var(--museo-text-primary) !important;

  contain: layout paint size;
  overscroll-behavior: contain;
}

/* Center main: scrolls independently */
.app__main {
  grid-area: main;
  min-width: 0;
  overflow: auto;
  padding: var(--museo-space-6);
  background: var(--museo-white) !important;
  color: var(--museo-text-primary) !important;

  overscroll-behavior: contain;
}


/* Responsive */
@media (max-width: 1200px) {
  .app {
    grid-template-columns: var(--side-l, 280px) 1fr 0px;
    grid-template-areas:
      "header header header"
      "sideL  main   main"
      "footer footer footer";
  }

}

@media (max-width: 900px) {
  .app {
    grid-template-columns: 1fr;
    grid-template-areas:
      "header"
      "main"
      "footer";
  }
  .app__side-left { display: none; } /* consider a drawer on mobile */
}
